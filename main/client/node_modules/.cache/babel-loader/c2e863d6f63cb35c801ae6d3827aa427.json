{"ast":null,"code":"import _objectSpread from \"D:\\\\GitHub\\\\proyecto-21-junio\\\\main\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\GitHub\\\\proyecto-21-junio\\\\main\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\GitHub\\\\proyecto-21-junio\\\\main\\\\client\\\\src\\\\Components\\\\Register.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport AuthService from '../Services/AuthService';\nimport { Link } from 'react-router-dom';\nimport Message from '../Components/Message';\n\nconst Register = props => {\n  const _useState = useState({\n    username: \"\",\n    password: \"\",\n    dni: \"\",\n    companyID: \"\",\n    mail: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        message = _useState4[0],\n        setMessage = _useState4[1];\n\n  let timerID = useRef(null);\n  useEffect(() => {\n    return () => {\n      clearTimeout(timerID);\n    };\n  }, []);\n\n  const onChange = e => {\n    setUser(_objectSpread({}, user, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const resetForm = () => {\n    setUser({\n      username: \"\",\n      password: \"\",\n      dni: \"\",\n      companyID: \"\",\n      mail: \"\"\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    console.log('user: ' + JSON.stringify(user));\n    AuthService.register(user).then(data => {\n      const message = data.data.message;\n      setMessage(message);\n      resetForm();\n\n      if (!message.msgError) {\n        timerID = setTimeout(() => {\n          props.history.push('/login');\n        }, 2000);\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container \",\n    style: {\n      margin: '20vh auto auto auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Please Register\"), React.createElement(\"label\", {\n    htmlFor: \"username\",\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: user.username,\n    onChange: onChange,\n    className: \"form-control m-2\",\n    placeholder: \"Enter Username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-12 \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: user.password,\n    onChange: onChange,\n    className: \"form-control m-2\",\n    placeholder: \"Enter Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }))), React.createElement(\"label\", {\n    htmlFor: \"mail\",\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"mail: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"mail\",\n    value: user.mail,\n    onChange: onChange,\n    className: \"form-control m-2\",\n    placeholder: \"Enter mail \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"dni\",\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"dni: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"dni\",\n    value: user.dni,\n    onChange: onChange,\n    className: \"form-control m-2\",\n    placeholder: \"Enter dni \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"companyID\",\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"companyId: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"companyID\",\n    value: user.companyID,\n    onChange: onChange,\n    className: \"form-control m-2\",\n    placeholder: \"Enter company Id \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    className: \"btn  btn-primary m-2 row\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Register\"), React.createElement(\"div\", {\n    className: \"d-flex justify-content-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Ya tenes cuenta? \", React.createElement(Link, {\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Inicia Sesion\")))), message ? React.createElement(Message, {\n    message: message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }) : null, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }));\n};\n\nexport default Register;","map":{"version":3,"sources":["D:/GitHub/proyecto-21-junio/main/client/src/Components/Register.js"],"names":["React","useState","useRef","useEffect","AuthService","Link","Message","Register","props","username","password","dni","companyID","mail","user","setUser","message","setMessage","timerID","clearTimeout","onChange","e","target","name","value","resetForm","onSubmit","preventDefault","console","log","JSON","stringify","register","then","data","msgError","setTimeout","history","push","margin"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport AuthService from '../Services/AuthService';\r\nimport {Link} from 'react-router-dom'\r\nimport Message from '../Components/Message';\r\n\r\nconst Register = props => {\r\n    const [user, setUser] = useState({ username: \"\", password: \"\", dni: \"\", companyID: \"\", mail: \"\" });\r\n    const [message, setMessage] = useState(null);\r\n    let timerID = useRef(null);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            clearTimeout(timerID);\r\n        }\r\n    }, []);\r\n\r\n    const onChange = e => {\r\n        setUser({ ...user, [e.target.name]: e.target.value });\r\n    }\r\n\r\n    const resetForm = () => {\r\n        setUser({ username: \"\", password: \"\", dni: \"\", companyID: \"\", mail: \"\" });\r\n    }\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        console.log('user: '+JSON.stringify(user))\r\n\r\n        AuthService.register(user).then(data => {\r\n            const { message } = data.data;\r\n            setMessage(message);\r\n            resetForm();\r\n            if (!message.msgError) {\r\n                timerID = setTimeout(() => {\r\n                    props.history.push('/login');\r\n                }, 2000)\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container \"style={{margin:'20vh auto auto auto'}}>\r\n            <form onSubmit={onSubmit}>\r\n                <h3>Please Register</h3>\r\n                <label htmlFor=\"username\" className=\"sr-only\">Username: </label>\r\n                <input type=\"text\"\r\n                    name=\"username\"\r\n                    value={user.username}\r\n                    onChange={onChange}\r\n                    className=\"form-control m-2\"\r\n                    placeholder=\"Enter Username\" />\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12 \">\r\n                        <label htmlFor=\"password\" className=\"sr-only\">Password: </label>\r\n                        <input type=\"password\"\r\n                            name=\"password\"\r\n                            value={user.password}\r\n                            onChange={onChange}\r\n                            className=\"form-control m-2\"\r\n                            placeholder=\"Enter Password\" />\r\n                    </div>\r\n                    \r\n                </div>\r\n                <label htmlFor=\"mail\" className=\"sr-only\">mail: </label>\r\n                <input type=\"text\"\r\n                    name=\"mail\"\r\n                    value={user.mail}\r\n                    onChange={onChange}\r\n                    className=\"form-control m-2\"\r\n                    placeholder=\"Enter mail \" />\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                        <label htmlFor=\"dni\" className=\"sr-only\">dni: </label>\r\n                        <input type=\"text\"\r\n                            name=\"dni\"\r\n                            value={user.dni}\r\n                            onChange={onChange}\r\n                            className=\"form-control m-2\"\r\n                            placeholder=\"Enter dni \" />\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                        <label htmlFor=\"companyID\" className=\"sr-only\">companyId: </label>\r\n                        <input type=\"text\"\r\n                            name=\"companyID\"\r\n                            value={user.companyID}\r\n                            onChange={onChange}\r\n                            className=\"form-control m-2\"\r\n                            placeholder=\"Enter company Id \" />\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <button className=\"btn  btn-primary m-2 row\"\r\n                    type=\"submit\">Register</button>\r\n<div className=\"d-flex justify-content-end\">\r\n<p className=\"\">Ya tenes cuenta? <Link to=\"/login\">Inicia Sesion</Link></p>\r\n\r\n</div>\r\n            </form>\r\n            {message ? <Message message={message} /> : null}\r\n            <br/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}