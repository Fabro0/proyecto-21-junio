{"ast":null,"code":"import _objectSpread from \"D:\\\\GitHub\\\\proyecto-21-junio\\\\main\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\GitHub\\\\proyecto-21-junio\\\\main\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\GitHub\\\\proyecto-21-junio\\\\main\\\\client\\\\src\\\\Components\\\\Login.js\";\nimport React, { useState, useContext } from 'react';\nimport AuthService from '../Services/AuthService';\nimport Message from '../Components/Message';\nimport { AuthContext } from '../Context/AuthContext';\nimport '../index.css';\n\nconst Login = props => {\n  const _useState = useState({\n    username: \"\",\n    password: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        message = _useState4[0],\n        setMessage = _useState4[1];\n\n  const authContext = useContext(AuthContext);\n\n  const onChange = e => {\n    setUser(_objectSpread({}, user, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    AuthService.login(user).then(data => {\n      const isAuthenticated = data.isAuthenticated,\n            user = data.user,\n            error = data.error;\n\n      if (isAuthenticated) {\n        authContext.setUser(user);\n        authContext.setIsAuthenticated(isAuthenticated);\n        props.history.push('/todos');\n      }\n\n      if (error) {\n        console.log(error);\n        setMessage('usuario incorrecto');\n      }\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container p-2 loginn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-6 offset-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, message ? React.createElement(Message, {\n    message: message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }) : null, React.createElement(\"h3\", {\n    id: \"uwu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Please sign in\"), React.createElement(\"label\", {\n    htmlFor: \"username\",\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Username: \"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    onChange: onChange,\n    className: \"form-control m-2 input-login\",\n    placeholder: \"Enter Username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-6 offset-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"sr-only\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Password: \"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: onChange,\n    className: \"form-control m-2 input-login\",\n    placeholder: \"Enter Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-primary m-2 \",\n    type: \"submit\",\n    style: {\n      margin: ' auto'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Log in \")))));\n};\n\nexport default Login;","map":{"version":3,"sources":["D:/GitHub/proyecto-21-junio/main/client/src/Components/Login.js"],"names":["React","useState","useContext","AuthService","Message","AuthContext","Login","props","username","password","user","setUser","message","setMessage","authContext","onChange","e","target","name","value","onSubmit","preventDefault","login","then","data","isAuthenticated","error","setIsAuthenticated","history","push","console","log","margin"],"mappings":"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","sourcesContent":["import React, {useState,useContext} from 'react';\r\nimport AuthService from '../Services/AuthService';\r\nimport Message from '../Components/Message';\r\nimport {AuthContext} from '../Context/AuthContext';\r\nimport '../index.css'\r\n\r\nconst Login = props=>{\r\n    const [user,setUser] = useState({username: \"\", password : \"\"});\r\n    const [message,setMessage] = useState(null);\r\n    const authContext = useContext(AuthContext);\r\n\r\n    const onChange = e =>{\r\n        setUser({...user,[e.target.name] : e.target.value});\r\n    }\r\n\r\n    const onSubmit = e =>{\r\n        e.preventDefault();\r\n        AuthService.login(user).then(data=>{\r\n            const { isAuthenticated,user,error} = data;\r\n            if(isAuthenticated){\r\n                authContext.setUser(user);\r\n                authContext.setIsAuthenticated(isAuthenticated);\r\n                props.history.push('/todos');\r\n                \r\n            }\r\n            if(error){\r\n                console.log(error)\r\n                setMessage('usuario incorrecto');\r\n            }\r\n            \r\n        });\r\n    }\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"container p-2 loginn\">\r\n\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-6 offset-3\">\r\n            {message ? <Message message={message}/> : null}\r\n\r\n                <h3 id=\"uwu\">Please sign in</h3>\r\n\r\n                    <label htmlFor=\"username\" className=\"sr-only\">Username: </label>\r\n                <input type=\"text\" \r\n                       name=\"username\" \r\n                       onChange={onChange}\r\n                        \r\n                       className=\"form-control m-2 input-login\" \r\n                       placeholder=\"Enter Username\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-6 offset-3\">\r\n                    <label htmlFor=\"password\" className=\"sr-only\">Password: </label>\r\n                <input type=\"password\" \r\n                       name=\"password\" \r\n                       onChange={onChange} \r\n                       \r\n                       className=\"form-control m-2 input-login\" \r\n                       placeholder=\"Enter Password\"/>\r\n                <button className=\"btn btn-primary m-2 \" \r\n                        type=\"submit\" style={{margin:' auto'}}>Log in </button>\r\n\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}